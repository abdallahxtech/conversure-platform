# =============================================================================
# CONVERSURE - Environment Variables Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://user:password@localhost:5432/conversure?schema=public"

# -----------------------------------------------------------------------------
# AUTHENTICATION
# -----------------------------------------------------------------------------
# Secret key for JWT tokens (generate with: openssl rand -base64 32)
JWT_SECRET="your-super-secret-jwt-key-here-change-this-in-production"

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
# Public URL of your application (used for redirects, webhooks, etc.)
NEXT_PUBLIC_APP_URL="https://conversure.ae"

# -----------------------------------------------------------------------------
# STRIPE (Payment Processing)
# -----------------------------------------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Stripe Webhook Secret (get from: https://dashboard.stripe.com/webhooks)
# Used to verify webhook signatures
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Price IDs for each plan
# Create products and prices in Stripe Dashboard, then copy the price IDs here
STRIPE_PRICE_ID_STARTER="price_..."
STRIPE_PRICE_ID_GROWTH="price_..."
STRIPE_PRICE_ID_PRO="price_..."

# -----------------------------------------------------------------------------
# WHATSAPP BUSINESS API (WABA)
# -----------------------------------------------------------------------------
# Official Meta WhatsApp Business API credentials
# Get these from your WABA provider (360dialog, Twilio, Meta Cloud API, etc.)
WABA_API_URL="https://waba.360dialog.io/v1"
WABA_API_KEY="your-waba-api-key"
WABA_PHONE_NUMBER_ID="your-phone-number-id"

# -----------------------------------------------------------------------------
# CHATWOOT (Optional - Alternative WhatsApp Provider)
# -----------------------------------------------------------------------------
# Chatwoot instance details
# Get these from your Chatwoot installation
CHATWOOT_BASE_URL="https://app.chatwoot.com"
CHATWOOT_API_TOKEN="your-chatwoot-api-token"
CHATWOOT_ACCOUNT_ID="your-account-id"
CHATWOOT_INBOX_ID="your-inbox-id"

# -----------------------------------------------------------------------------
# EVOLUTION API (Optional - Alternative WhatsApp Provider)
# -----------------------------------------------------------------------------
# Evolution API instance details
# Get these from your Evolution API installation
EVOLUTION_API_URL="https://evolution-api.example.com"
EVOLUTION_API_KEY="your-evolution-api-key"
EVOLUTION_INSTANCE_NAME="your-instance-name"

# -----------------------------------------------------------------------------
# BITRIX24 CRM
# -----------------------------------------------------------------------------
# Bitrix24 webhook URL for API access
# Get this from: Bitrix24 > Settings > Developer Resources > Webhooks
BITRIX24_WEBHOOK_URL="https://yourcompany.bitrix24.com/rest/1/xxxxx/"

# -----------------------------------------------------------------------------
# AI / OPENAI
# -----------------------------------------------------------------------------
# OpenAI API key for AI-powered features
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-..."

# AI Model to use (default: gpt-4-turbo-preview)
OPENAI_MODEL="gpt-4-turbo-preview"

# -----------------------------------------------------------------------------
# EMAIL (Optional - for notifications)
# -----------------------------------------------------------------------------
# SMTP settings for sending emails
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="noreply@conversure.ae"

# Or use Resend (recommended)
# Get from: https://resend.com/api-keys
RESEND_API_KEY="re_..."

# -----------------------------------------------------------------------------
# MONITORING & ANALYTICS (Optional)
# -----------------------------------------------------------------------------
# Sentry for error tracking
# Get from: https://sentry.io/settings/projects/
SENTRY_DSN="https://...@sentry.io/..."

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-..."

# -----------------------------------------------------------------------------
# FEATURE FLAGS (Optional)
# -----------------------------------------------------------------------------
# Enable/disable features
ENABLE_AI_FEATURES="true"
ENABLE_WARMUP_PLANS="true"
ENABLE_ANALYTICS="true"

# -----------------------------------------------------------------------------
# RATE LIMITING (Optional)
# -----------------------------------------------------------------------------
# Redis connection for rate limiting (optional)
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# DEVELOPMENT ONLY
# -----------------------------------------------------------------------------
# Set to "development" for local dev, "production" for live
NODE_ENV="development"

# Enable debug logging
DEBUG="false"

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# 
# EasyPanel Deployment:
# 1. Add all environment variables in EasyPanel dashboard
# 2. Ensure DATABASE_URL points to your PostgreSQL service
# 3. Set NEXT_PUBLIC_APP_URL to your domain (e.g., https://conversure.ae)
# 4. Configure Stripe webhook endpoint: https://conversure.ae/api/webhooks/stripe
# 5. Configure WhatsApp webhook endpoint: https://conversure.ae/api/webhooks/whatsapp
# 6. Run database migrations: npx prisma migrate deploy
# 7. Seed super admin: npx prisma db seed
#
# =============================================================================
